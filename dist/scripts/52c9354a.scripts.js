window.Config={baseurl:document.location.origin,sitetitle:"learning yeoman",sitedesc:"The tutorial for Chapter 3",sitecopy:"2014 Copyright",version:"1.0.0",email:"admin@email.com",debug:!0,feature:{title:"Chapter 3",body:"A starting point for a modern angular.js application.",image:"http://goo.gl/YHBZjc"},features:[{title:"yo",body:"yo scaffolds out a new application.",image:"http://goo.gl/g6LO99"},{title:"Bower",body:"Bower is used for dependency management. ",image:"http://goo.gl/GpxBAx"},{title:"Grunt",body:"Grunt is used to build, preview and test your project.",image:"http://goo.gl/9M00hx"}],session:{authorized:!1,user:null},layout:{header:"views/_header.html",content:"views/_content.html",footer:"views/_footer.html"},menu:[{title:"Home",href:"/"},{title:"About",href:"/about"},{title:"Posts",href:"/posts"}]},angular.module("learningYeomanCh3App",["ngAnimate","ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){return a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/posts",{templateUrl:"views/posts.html",controller:"PostsCtrl",resolve:{posts:function(a){return a.query()}}}).when("/posts/view/:id*",{templateUrl:"views/post-detail.html",controller:"PostDetailCtrl",resolve:{post:function(a){return a.get()}}}).when("/posts/edit/:id",{templateUrl:"views/post-edit.html",controller:"PostEditCtrl",resolve:{post:function(a){return a.get()}}}).when("/posts/new",{templateUrl:"views/post-edit.html",controller:"PostNewCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("learningYeomanCh3App").controller("AppCtrl",["$scope","$rootScope","$log","$route","$location","$routeParams","$cookieStore","Config",function(a,b,c,d,e,f,g,h){var i;return a.name="chapter3App",i=angular.copy(h),i.session=g.get("App.session"),i.location=e,i.routeParams=f,window.App=a.App=b.App=i,c.info(b)}]),angular.module("learningYeomanCh3App").run(["$templateCache",function(a){"use strict";a.put("views/_content.html",'<article>\n    <div id="sidebar" \n      ng-include="App.sidebar.url" \n      ng-show="App.session.authorized"\n      class="col-xs-4 col-sm-3 col-md-2"></div>\n    <div class="view-animate-container">\n    	<loading></loading>\n	    <section class="view-animate" ng-view></section>\n	  </div>\n</article>'),a.put("views/_footer.html",'<div class="app-footer clearfix">\n\n  <span class="app-sitecopy pull-left">{{ App.sitecopy }}</span>\n  <span class="app-version pull-right">{{ App.version }}</span>\n</div>'),a.put("views/_header.html",'<div class="header">\n	<ul class="nav nav-pills pull-right">\n		<li ng-repeat="item in App.menu" ng-class="{\'active\': App.location.path() === item.href}">\n			<a ng-href = "#{{item.href}}"> {{item.title}} </a>\n		</li>\n\n	</ul>\n	<h3 class="text-muted"> {{ App.sitetitle }} </h3>\n</div>\n'),a.put("views/_sidebar.html","<p>This is the _sidebar view.</p>\n"),a.put("views/about.html","<p>This is the about view.</p>\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc sit amet augue sed massa malesuada bibendum vitae at mi. Donec aliquam blandit cursus. Pellentesque ullamcorper rutrum sollicitudin. In turpis massa, semper eget lobortis in, convallis quis metus. Aenean sed mi id est suscipit dignissim et vel tellus. Sed convallis risus vel erat fringilla in convallis eros consequat. Vivamus urna nisi, aliquam non congue id, luctus sit amet dui. Aliquam pretium pulvinar metus, quis condimentum purus dictum pharetra. Vivamus vehicula facilisis erat eget iaculis. Curabitur laoreet vehicula tellus, eget mollis tellus varius eu. Curabitur id neque sapien. Sed ultrices accumsan nibh. Donec tristique, eros nec pulvinar aliquet, ante elit eleifend magna, vel semper orci justo dignissim mi. Duis consectetur suscipit leo. Maecenas suscipit sollicitudin lorem, a laoreet nisl interdum nec. Aenean blandit nunc nec nisl auctor non pellentesque diam semper. Donec faucibus vestibulum sapien at viverra. Proin auctor arcu sed libero blandit posuere. Curabitur nec nulla est, sed pharetra dolor. Nullam pharetra adipiscing lobortis. Pellentesque rhoncus mauris id nulla tristique facilisis. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam dui dolor, ornare vehicula ornare vitae, egestas sit amet leo. Quisque tortor turpis, sollicitudin non hendrerit nec, laoreet sit amet nulla. Quisque fringilla ligula egestas felis ultricies lacinia."),a.put("views/main.html",'<div class="jumbotron">\n	<h1>{{ App.feature.title }}</h1>\n	<img ng-src="{{ App.feature.image  }}"/>\n\n	<p class="lead">\n		{{ App.feature.body }}\n	</p>\n</div>\n\n<div class="marketing">\n\n	<ul class="media-list">\n		<li class="media feature" ng-repeat="item in App.features">\n			<a class="pull-left" href="#">\n				<img alt="{{ item.title }}" src="http://placehold.it/80x80" ng-src="{{ item.image }}"\n					 class="media-object"/>\n			</a>\n\n			<div class="media-body">\n				<h4 class="media-heading">{{item.title}}</h4>\n\n				<p>{{ item.body }}</p>\n			</div>\n		</li>\n	</ul>\n\n</div>\n'),a.put("views/post-detail.html",'<div id="post-detail">\n	<ol class="breadcrumb">\n		<li>\n			<a href="#">Home</a>\n		</li>\n		<li>\n			<a href="#/posts">Posts</a>\n		</li>\n		<li class="active">{{post.title}}</li>\n	</ol>\n	<div class="post">\n		<header ng-include="\'views/post-header.html\'"></header>\n		<article ng-bind-html="post.body | markdown"></article>\n	</div>\n</div>'),a.put("views/post-edit.html",'<ol class="breadcrumb">\n    <li>\n        <a href="#">Home</a>\n    </li>\n    <li>\n        <a href="#/posts">Posts</a>\n    </li>\n	<li ng-show="post._id">\n		<a href="" ng-click="cancel()">{{post.title}}</a>\n	</li>\n    <li ng-show="post._id" class="active">\n        Edit\n    </li>\n	<li ng-hide="post._id" class="active">\n		New\n	</li>\n</ol>\n<div class="row">\n    <div class="col-xs-7 col-sm-8">\n        <form class="form-horizontal" role="form" ng-submit="save(post)">\n            <div class="form-group">\n                <label for="title" class="col-sm-3 control-label">Title:</label>\n\n                <div class="col-sm-9">\n                    <input type="text" class="form-control" placeholder="Enter title here" name="title"\n                           ng-model="post.title" required autofocus=""/>\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label for="body" class="col-sm-3 control-label">Body:</label>\n\n                <div class="col-sm-9">\n                    <textarea class="form-control" rows="5"\n                              placeholder="Enter contents here" name="body" ng-model="post.body" required></textarea>\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="image" class="col-sm-3 control-label">Image:</label>\n\n                <div class="col-sm-9">\n                    <input type="url" class="form-control" placeholder="Enter image URL here" name="image" ng-model="post.image">\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="tags" class="col-sm-3 control-label">Tags:</label>\n\n                <div class="col-sm-9">\n                    <input type="text" class="form-control" placeholder="Separate tags with commas" name="tags" ng-model="post.tags">\n                </div>\n            </div>\n            <div class="form-group">\n                <label for="slug" class="col-sm-3 control-label">Published:</label>\n\n                <div class="col-sm-9">\n                    <input type="checkbox" class="form-control" ng-model="post.published" name="published"/>\n                </div>\n            </div>\n            <div class="form-group">\n                <div class="col-sm-offset-2 col-sm-10">\n                    <div class="pull-right">\n						<button type="button" class="btn btn-default cancel" ng-click="cancel()"> Cancel </button>\n						<button type="button" class="btn btn-danger remove" ng-click="remove()"> Delete </button>\n                        <button type="submit" class="btn btn-primary">\n                            Save\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </form>\n    </div>\n    <div class="col-xs-5 col-sm-4">\n        <aside class="center">\n            <img ng-src="{{post.image}}" src="http://placehold.it/150x150&amp;text=Image" class="img-thumbnail post-image">\n        </aside>\n    </div>\n</div>'),a.put("views/post-header.html",'<div class="header">\n	<a href="" ng-click="view(post._id)">\n		<h1 class="media-heading">{{post.title}}</h1>\n	</a>\n	<span>Posted on {{post.created | date:\'mediumDate\'}}</span> |\n					<span ng-if="post.tags">Tags:\n						<span class="label label-default tag" ng-repeat="t in post.tags">{{t}}</span> |\n					</span>\n	<a href="" ng-click="edit(post._id)" class="btn btn-xs btn-default edit">\n		<i class="glyphicon glyphicon-pencil"></i> EDIT\n	</a>\n</div>'),a.put("views/posts.html",'<div id="posts">\n	<button class="btn btn-default pull-right" ng-click="add()">Add New</button>\n	<ol class="breadcrumb">\n		<li>\n			<a href="#">Home</a>\n		</li>\n		<li class="active">\n			Posts\n		</li>\n	</ol>\n	<ul class="posts list-unstyled" ng-if="posts">\n		<li ng-repeat="post in posts | filter:tag">\n			<div class="post" data-id="{{post._id}}">\n				<header ng-include="\'views/post-header.html\'"></header>\n				<section ng-bind-html="post.body | markdown:150"></section>\n			</div>\n		</li>\n	</ul>\n	<div class="alert alert-info" ng-if="!posts">\n		<strong>Notice:</strong> There are no posts available.\n	</div>\n</div>')}]),angular.module("learningYeomanCh3App").value("Config",window.Config),angular.module("learningYeomanCh3App").factory("Post",["$resource",function(a){return a("/api/posts/:id",{id:"@_id"},{query:{method:"GET",isArray:!0},update:{method:"PUT"}})}]),angular.module("learningYeomanCh3App").factory("PostsService",["$resource","$q","$route","Post",function(a,b,c,d){var e;return e={query:function(){var a;return a=b.defer(),d.query().$promise.then(function(b){return a.resolve(b)},function(b){return a.reject(b)}),a.promise},get:function(a){var e;if(e=b.defer(),c.current.params.id&&(a=c.current.params.id,!a))throw new Error("Must provide ID!");return d.get({id:a}).$promise.then(function(a){return e.resolve(a)},function(a){return e.reject(a)}),e.promise}}}]),angular.module("learningYeomanCh3App").filter("markdown",function(){return function(a,b){return a&&b&&(a=a.substring(0,b)),a?markdown.toHTML(a):void 0}}),angular.module("learningYeomanCh3App").filter("slugify",function(){return function(a,b){var c;return c="",a&&(c=a.replace(/\s/g,"-")),b&&(c=c.toLowerCase()),c}}),angular.module("learningYeomanCh3App").directive("loading",["$rootScope",function(a){return{template:"<p>Loading...</p>",restrict:"EA",replace:!0,link:function(b,c){return c.addClass("loading").hide(),a.$on("$locationChangeStart",function(){return c.fadeIn("fast")}),a.$on("$locationChangeSuccess",function(){return c.fadeOut("fast")})}}}]),angular.module("learningYeomanCh3App").controller("MainCtrl",["$scope",function(a){return a.name="MainCtrl",a.filter={tag:"featured"}}]),angular.module("learningYeomanCh3App").controller("AboutCtrl",["$scope",function(a){return a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("learningYeomanCh3App").controller("PostsCtrl",["$scope","$location","posts",function(a,b,c){return a.name="Posts",a.p=null,a.postFilter=null,a.posts=c,a.add=function(){return b.path("/posts/new")},a.view=function(a){return b.path("/posts/view/"+a)},a.edit=function(a){return b.path("/posts/edit/"+a)}}]),angular.module("learningYeomanCh3App").controller("PostNewCtrl",["$scope","$location","Post",function(a,b,c){return a.name="PostNewCtrl",a.post={title:"",body:"",published:!0,image:"",tags:[]},a.cancel=function(){return b.path("/posts")},a.save=function(d){return a.post=new c(d),a.post.tags=String(a.post.tags).split(","),a.post.$save().then(function(){return b.path("/posts")})}}]),angular.module("learningYeomanCh3App").controller("PostDetailCtrl",["$scope","$location","post",function(a,b,c){return a.name="PostDetailCtrl",a.post=c,a.edit=function(){return b.path("/posts/edit/"+a.post._id)},a.remove=function(){var d;return d=confirm("Are you sure you want to delete this?"),d&&a.post.$remove().then(function(){return b.path("/posts")}),b.path("/posts/edit/"+c._id)}}]),angular.module("learningYeomanCh3App").controller("PostEditCtrl",["$scope","$location","post","slugifyFilter",function(a,b,c,d){return a.name="PostEditCtrl",a.post=c,a.save=function(){return a.post.tags=String(a.post.tags).split(","),a.post.slug=d(a.post.title,!0),a.post.$update().then(function(a){return b.path("/posts/view/"+a._id)})},a.cancel=function(){return b.path("/posts/view/"+a.post._id)},a.remove=function(){return a.post.$remove().then(function(){return b.path("/posts")})}}]);